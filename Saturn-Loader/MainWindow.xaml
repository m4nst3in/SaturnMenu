<Window x:Class="Saturn.Loader.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Title="Saturn" Height="600" Width="800" WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize" WindowStyle="None" UseLayoutRounding="True" SnapsToDevicePixels="True">
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="220"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="36"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    <Border Grid.RowSpan="2" Background="{StaticResource Brush.Surface}"/>
    <Grid Grid.Column="0" Grid.RowSpan="2" Margin="16,16,8,16">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>
      <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
        <Image Source="Assets/logo.png" Width="40" Height="40" Margin="0,0,10,0" RenderOptions.BitmapScalingMode="HighQuality" Stretch="Uniform"/>
        <TextBlock Text="Saturn" FontSize="26" FontWeight="Bold" Foreground="{StaticResource Brush.SaturnTitleGradient}"/>
      </StackPanel>
      <StackPanel Grid.Row="1" Margin="0,24,0,0">
        <Button Tag="Injector" Style="{StaticResource NavButton}" Command="{Binding NavigateInjectorCommand}" Margin="0,0,0,12" TabIndex="1">
          <StackPanel Orientation="Horizontal">
            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE15E;" FontSize="18" Margin="12,0,10,0"/>
            <TextBlock Text="Injector"/>
          </StackPanel>
        </Button>
        <Button Tag="Website" Style="{StaticResource NavButton}" Command="{Binding NavigateWebsiteCommand}" Margin="0,0,0,12" TabIndex="2">
          <StackPanel Orientation="Horizontal">
            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE12B;" FontSize="18" Margin="12,0,10,0"/>
            <TextBlock Text="Website"/>
          </StackPanel>
        </Button>
        <Button Tag="Settings" Style="{StaticResource NavButton}" Command="{Binding NavigateConfigCommand}" Margin="0,0,0,12" TabIndex="3">
          <StackPanel Orientation="Horizontal">
            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE115;" FontSize="18" Margin="12,0,10,0"/>
            <TextBlock Text="Settings"/>
          </StackPanel>
        </Button>
        <Button Tag="Support" Style="{StaticResource NavButton}" Command="{Binding NavigateSupportCommand}" TabIndex="4">
          <StackPanel Orientation="Horizontal">
            <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE11B;" FontSize="18" Margin="12,0,10,0"/>
            <TextBlock Text="Support"/>
          </StackPanel>
        </Button>
      </StackPanel>
      <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,24,0,0">
        <Ellipse Width="48" Height="48" Margin="0,0,12,0">
          <Ellipse.Fill>
            <ImageBrush ImageSource="Assets/logo.png" Stretch="UniformToFill"/>
          </Ellipse.Fill>
        </Ellipse>
        <StackPanel>
          <TextBlock Text="{Binding CurrentUser.DisplayName}" FontSize="14"/>
          <TextBlock Text="{Binding CurrentUser.Username}" FontSize="12" Foreground="{StaticResource Brush.TextSecondary}"/>
        </StackPanel>
      </StackPanel>
      <Border VerticalAlignment="Stretch" HorizontalAlignment="Right" Width="1" Background="{StaticResource Brush.Outline}" Margin="0"/>
    </Grid>
    <Grid Grid.Column="1" Grid.Row="0" x:Name="TitleBar" Background="{StaticResource Brush.Background}">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="Auto"/>
      </Grid.ColumnDefinitions>
      <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,8,0">
        <Button Width="28" Height="28" Style="{StaticResource GhostButton}" Click="Minimize_Click">
          <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE921;" FontSize="14"/>
        </Button>
        <Button Width="28" Height="28" Style="{StaticResource GhostButton}" Click="Close_Click" Margin="6,0,0,0">
          <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8BB;" FontSize="14"/>
        </Button>
      </StackPanel>
    </Grid>
    <Border Grid.Column="1" Grid.Row="1" Background="{StaticResource Brush.Background}" Padding="24">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Border Grid.Row="0" Background="#1A1F2B" BorderBrush="{StaticResource Brush.Outline}" BorderThickness="1" CornerRadius="12" Padding="12" Margin="0,0,0,16" Visibility="Collapsed" x:Name="Banner">
          <TextBlock Text="Aviso/Banner" Foreground="{StaticResource Brush.TextSecondary}"/>
        </Border>
        <Frame Grid.Row="1" x:Name="MainFrame" NavigationUIVisibility="Hidden"/>
        <ItemsControl ItemsSource="{Binding Toasts}" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,24,24">
          <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
              <StackPanel Orientation="Vertical"/>
            </ItemsPanelTemplate>
          </ItemsControl.ItemsPanel>
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <Border Style="{StaticResource CardBorder}" Background="{StaticResource Brush.Surface}">
                <Border.Triggers>
                  <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                    <BeginStoryboard>
                      <Storyboard>
                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.15"/>
                      </Storyboard>
                    </BeginStoryboard>
                  </EventTrigger>
                </Border.Triggers>
                <Grid>
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                  </Grid.ColumnDefinitions>
                  <Ellipse Width="8" Height="8" VerticalAlignment="Center" Margin="0,0,8,0" Fill="{Binding Severity, Converter={StaticResource SeverityToBrush}}"/>
                  <TextBlock Grid.Column="1" Text="{Binding Message}"/>
                </Grid>
              </Border>
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </Grid>
    </Border>
  </Grid>
</Window>