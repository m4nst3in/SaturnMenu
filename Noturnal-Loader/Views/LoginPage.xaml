<Page x:Class="Noturnal.Loader.Views.LoginPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      Title="Login">

    <Grid>
        <!-- Cartão Centralizado com estilo Glassy -->
        <Border Style="{StaticResource CardBorder}" Width="380" VerticalAlignment="Center" HorizontalAlignment="Center">
            <StackPanel>
                <!-- Cabeçalho -->
                <TextBlock Text="WELCOME BACK" FontSize="12" Foreground="{StaticResource Brush.AccentGradient}" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,8"/>
                <TextBlock Text="Sign In" Style="{StaticResource Heading}" HorizontalAlignment="Center" Margin="0,0,0,24"/>

                <!-- Loading / Status -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Visibility="{Binding IsLoading, Converter={StaticResource BoolToVis}}" Margin="0,0,0,16">
                    <ProgressBar Width="20" Height="20" IsIndeterminate="True" Margin="0,0,12,0"/>
                    <TextBlock Text="Connecting..." Foreground="{StaticResource Brush.TextSecondary}" VerticalAlignment="Center"/>
                </StackPanel>

                <TextBlock Text="{Binding Status}" Foreground="{StaticResource Brush.Error}" HorizontalAlignment="Center" Margin="0,0,0,16" TextWrapping="Wrap" TextAlignment="Center"/>

                <!-- Formulário -->
                <TextBlock Text="USERNAME" Style="{StaticResource TextCaption}" Margin="0,0,0,6" FontWeight="Bold"/>
                <TextBox Style="{StaticResource InputTextBox}" Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}" Height="40"/>

                <TextBlock Text="PASSWORD" Style="{StaticResource TextCaption}" Margin="0,16,0,6" FontWeight="Bold"/>
                <PasswordBox x:Name="Pwd" Style="{StaticResource InputPasswordBox}" PasswordChanged="Pwd_PasswordChanged" Height="40"/>

                <!-- Opções -->
                <Grid Margin="0,16,0,24">
                    <CheckBox Content="Remember me" IsChecked="{Binding RememberMe}" Foreground="{StaticResource Brush.TextSecondary}" VerticalContentAlignment="Center"/>
                    <Button Style="{StaticResource LinkButton}" Content="Forgot password?" HorizontalAlignment="Right" FontSize="12"/>
                </Grid>

                <!-- Ações -->
                <Button Style="{StaticResource AccentButton}" Content="SIGN IN" Command="{Binding LoginCommand}"/>
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                    <TextBlock Text="Don't have an account? " Foreground="{StaticResource Brush.TextSecondary}" FontSize="12"/>
                    <Button Content="Register" Click="OpenSite_Click" Style="{StaticResource LinkButton}" Foreground="White" FontWeight="Bold" FontSize="12"/>
                </StackPanel>

                <!-- Dev Hint (Opcional) -->
                <TextBlock x:Name="DevHint" Text="Dev: admin / admin" Margin="0,20,0,0" Foreground="{StaticResource Brush.TextDisabled}" FontSize="10" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>
    </Grid>
</Page>